{"version":3,"sources":["../src/index.js"],"names":["Comtele","authKey","Sender","Receivers","Content","method","url","headers","error","response","body","Error","console","log","process","env","hasOwnProperty","comtele","COMTELE_KEY","COMTELE_SENDER","$","set","e","message"],"mappings":";;;;;;;;AAAA;;AACA;;;;;;;;IAEMA,O;AACF,qBAAYC,OAAZ,EAAqBC,MAArB,EAA4B;AAAA;;AACxB,aAAKD,OAAL,GAAeA,OAAf;AACA,aAAKC,MAAL,GAAcA,MAAd;AACH;;;;6BAEIC,S,EAAWC,O,EAAQ;AACpB,mCAAQ;AACJC,wBAAQ,MADJ;AAEJC,qBAAK,wCAFD;AAGJC,yBAAS;AACL,oCAAgB,kBADX;AAEL,gCAAY,KAAKN;AAFZ;AAHL,aAAR,EAOG;AACCC,wBAAQ,KAAKA,MADd;AAECC,oCAFD;AAGCC;AAHD,aAPH,EAWG,UAACI,KAAD,EAAQC,QAAR,EAAkBC,IAAlB,EAA2B;AAC1B,oBAAIF,KAAJ,EAAW,MAAM,IAAIG,KAAJ,CAAUH,KAAV,CAAN;AACXI,wBAAQC,GAAR,CAAYH,IAAZ;AACH,aAdD;AAeH;;;;;;kBAGU,YAAM;AACjB,QAAG;AACC,YAAG,CAACI,QAAQC,GAAR,CAAYC,cAAZ,CAA2B,aAA3B,CAAD,IAA8C,CAACF,QAAQC,GAAR,CAAYC,cAAZ,CAA2B,gBAA3B,CAAlD,EAA+F;AAC3FJ,oBAAQC,GAAR,CAAY,oFAAZ;AACH,SAFD,MAGI;AACA,gBAAMI,UAAU,IAAIjB,OAAJ,CAAYc,QAAQC,GAAR,CAAYG,WAAxB,EAAqCJ,QAAQC,GAAR,CAAYI,cAAjD,CAAhB;AACAC,qBAAEC,GAAF,CAAM,SAAN,EAAiBJ,OAAjB;AACH;AACJ,KARD,CASA,OAAOK,CAAP,EAAU;AACNV,gBAAQC,GAAR,oBAA6BS,EAAEC,OAA/B;AACH;AACJ,C","file":"index.js","sourcesContent":["import { $ } from \"@dekproject/scope\";\r\nimport request from 'request';\r\n\r\nclass Comtele{\r\n    constructor(authKey, Sender){\r\n        this.authKey = authKey;\r\n        this.Sender = Sender;\r\n    }\r\n\r\n    send(Receivers, Content){\r\n        request({\r\n            method: \"POST\",\r\n            url: \"https://sms.comtele.com.br/api/v2/send\",\r\n            headers: {\r\n                \"content-type\": \"application/json\",\r\n                \"auth-key\": this.authKey\r\n            }\r\n        }, {\r\n            Sender: this.Sender,\r\n            Receivers,\r\n            Content \r\n        }, (error, response, body) => {\r\n            if (error) throw new Error(error);          \r\n            console.log(body);\r\n        });\r\n    }\r\n}\r\n\r\nexport default () => {\r\n    try{\r\n        if(!process.env.hasOwnProperty('COMTELE_KEY') || !process.env.hasOwnProperty('COMTELE_SENDER')){\r\n            console.log('[ Comtele ] - There is no COMTELE_KEY or COMTELE_SENDER variable in the .env file.');\r\n        }\r\n        else{\r\n            const comtele = new Comtele(process.env.COMTELE_KEY, process.env.COMTELE_SENDER);\r\n            $.set(\"comtele\", comtele);\r\n        }\r\n    }\r\n    catch (e) {\r\n        console.log(`[ Comtele ] - ${e.message}`);\r\n    }\r\n}\r\n"]}